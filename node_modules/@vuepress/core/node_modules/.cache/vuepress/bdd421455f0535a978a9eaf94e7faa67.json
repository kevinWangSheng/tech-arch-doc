{"remainingRequest":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js??ref--3-0!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js??ref--6!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\index.js??ref--1-1!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\@vuepress\\markdown-loader\\index.js??ref--1-2!D:\\dev\\project\\mysite\\tech-arch-doc\\md\\techDocument\\record\\RedisHotKey.md?vue&type=template&id=45b114fe&","dependencies":[{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\md\\techDocument\\record\\RedisHotKey.md","mtime":1709198397123},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696408019332},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696408019332},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\babel-loader\\lib\\index.js","mtime":1696408019022},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1696408019943},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696408019332},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\index.js","mtime":1696408019943},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\@vuepress\\markdown-loader\\index.js","mtime":1696408018627}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHsKICB2YXIgX3ZtID0gdGhpcywKICAgIF9jID0gX3ZtLl9zZWxmLl9jOwogIHJldHVybiBfYygnQ29udGVudFNsb3RzRGlzdHJpYnV0b3InLCB7CiAgICBhdHRyczogewogICAgICAic2xvdC1rZXkiOiBfdm0uJHBhcmVudC5zbG90S2V5CiAgICB9CiAgfSwgW19jKCdoMScsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICJyZWRpc+eDrWtleSIKICAgIH0KICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiI3JlZGlz54Ota2V5IgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiBSZWRpc+eDrWtleSIpXSksIF92bS5fdigiICIpLCBfYygnaDInLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAi5LuA5LmI5piv54Ota2V5IgogICAgfQogIH0sIFtfYygnYScsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICAiaHJlZiI6ICIj5LuA5LmI5piv54Ota2V5IgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiDku4DkuYjmmK/ng61rZXkiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX3ZtLl92KCLlnKggUmVkaXMg5Lit77yM54OtIGtleeaYr+aMh+mCo+S6m+WcqOaegeefreeahOaXtumXtOWGheiuv+mXrumikeasoemdnuW4uOmrmOeahGtleeOAgiIpXSksIF92bS5fdigiICIpLCBfYygnaDInLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAi5Ye6546w5Zy65pmvIgogICAgfQogIH0sIFtfYygnYScsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICAiaHJlZiI6ICIj5Ye6546w5Zy65pmvIgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiDlh7rnjrDlnLrmma8iKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX3ZtLl92KCLkuIDoiKzlr7nkuo7kuIDkupvlpJrkuKrnlKjmiLfnn63ml7bpl7TlhoXkuIDotbfngrnlh7vnmoTkuJzopb/vvIzmr5TlpoLkuIDkuKrniIbmrL7vvIznn63ml7bpl7TlhoXlpKfph4/nlKjmiLfpg73kvJrmn6XnnIvov5nkuKrkuJzopb/vvIzlpoLmnpzkvaDkvb/nlKjliLDkuoZcbnJlZGlz77yM6YKj5LmI6L+Z5Liq5a+55bqU55qEa2V55bCx5Lya5ZyocmVkaXPkuK3mmK/kuIDkuKrng61rZXnjgILmiJbogIXmmK/kuIDkupvlhbbku5bnmoTniKzomavvvIzov4fmnaXosIPnlKjkvaDnmoTmjqXlj6PvvIzlj43mraPmgKXpgJ/nn63ml7bpl7TlhoXorr/pl67lpKfph4/orr/pl67ov5nkuKprZXnnmoTvvIzov5nkuKprZXnlsLHmmK/kuIDkuKrng61rZXkiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2gyJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogIuW9seWTjSIKICAgIH0KICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiI+W9seWTjSIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg5b2x5ZONIildKSwgX3ZtLl92KCIgIiksIF9jKCdvbCcsIFtfYygnbGknLCBbX3ZtLl92KCLpppblhYjvvIznn63ml7bpl7TlhoXlpKfph4/or7fmsYLorr/pl67ov5nkuKprZXnvvIzlr7nlupTnmoRyZWRpc+iKgueCueWwseS8muiiq+aJk+a7oe+8jOWPr+iDveS8muWHuueOsOS4ouWMheeOsOixoe+8jOiAjOaIkeS7rOefpemBk+WcqOe9kee7nOS8oOi+k+S4re+8jOS9v+eUqFRDUOi/m+ihjOS8oOi+k++8jOWmguaenOS4ouWMheS6hu+8jOmCo+S5iOS7luS8mumHjeWPkVxu77yM5L2G5piv6YeN5Y+R55qE6K+d77yM5LuW5Lya6ICX6LS55pu05aSa55qE5pe26Ze077yM6L+Z5qC36K+35rGC5LiA5aSa77yM5LuW5Yq/5b+F5Lya5Lqn55Sf6Zi75aGe77yM5o6l5Y+j55qE5ZON5bqU6YCf5bqm5bCx5Lya5Y+Y5oWi77yM5Lya5a+86Ie06Zi75aGe562J6Zeu6aKY44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCdsaScsIFtfdm0uX3YoIuivt+axgui/h+Wkmu+8jOeDreeCuWtleeW8lei1t3JlZGlz6IqC54K55pWw5o2u5YC+5pac77yM57yT5a2Y5pyN5Yqh6KKr5omT5Z6uIildKSwgX3ZtLl92KCIgIiksIF9jKCdsaScsIFtfdm0uX3YoIui/mOacieWwseaYr+Wkp+mHj+eahOivt+axguS8muepv+mAj3JlZGlz77yM55u05o6l5omT5YiwRELkuIrvvIzmiJHku6znn6XpgZNkYuS4gOiIrOiDveaKl+eahOa1gemHj+mdnuW4uOaciemZkO+8jOaJgOS7peWPr+iDveS8muaJk+WermRiIildKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2gyJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogIuajgOa1iyIKICAgIH0KICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiI+ajgOa1iyIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg5qOA5rWLIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi6YKj5LmI5oiR5Lus5aaC5L2V5Y+R546w5a+55bqU55qE54Ota2V55ZGi77yfIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi6Ieq5bex5byA5Y+R5LiA5Lqb56ys5LiJ5pa5U0RL6L+b6KGM5qOA5rWL562J44CC5qOA5rWL5a6M5oiQ5LmL5ZCO55u05o6l5o6l5YWl5L2g6Ieq5bex55qE5Lia5Yqh57O757uf44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi5oiW6ICF5ZyocmVkaXM0LjDku6XlkI7kvb/nlKjlkb3ku6Tov5vooYzmo4DmtYvvvJogcmVkaXMtY2xpIC0taG90a2V5cyDvvIzkvYbnlLHkuo5cbumcgOimgeaJq+aPj+aVtOS4qiBrZXlzcGFjZe+8jOWunuaXtuaAp+S4iuavlOi+g+W3ru+8jOWPpuWkluaJq+aPj+iAl+aXtuS4jiBrZXkg55qE5pWw6YeP5q2j55u45YWz77yM5aaC5p6cIGtleVxu55qE5pWw6YeP5q+U6L6D5aSa77yM6ICX5pe25Y+v6IO95Lya6Z2e5bi46ZW/44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi5L2g5Lmf5Y+v5Lul6L+b6KGM5oqT5YyF77yM5oqT5Y+W5p+Q5LiA5q615pe26Ze05YaF55qEVENQIGR1bXDnmoTmtYHph4/vvIznhLblkI7ov5vooYzkuIrmiqXjgIIiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2gyJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogIuino+WGsyIKICAgIH0KICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiI+ino+WGsyIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg6Kej5YazIildKSwgX3ZtLl92KCIgIiksIF9jKCdoMycsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICLmnKzlnLDnvJPlrZgiCiAgICB9CiAgfSwgW19jKCdhJywgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogIiPmnKzlnLDnvJPlrZgiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOacrOWcsOe8k+WtmCIpXSksIF92bS5fdigiICIpLCBfYygncCcsIFtfdm0uX3YoIuesrOS4gOenjeaWueahiOaYr+S9v+eUqOacrOWcsOe8k+WtmOi/m+ihjO+8jOebuOW9k+S6juWkmuWKoOS4gOS4quS4gOe6p+e8k+WtmOOAgiDlvZPkvaDlj5HnjrDlr7nlupTnmoTng61rZXnnmoTml7blgJnvvIznm7TmjqXlsIbku5bmlL7liLDmnKzlnLDnvJPlrZjkuK3lsLHooYzvvIzkvYbmmK/miJHku6znjrDlnKjnmoTns7vnu5/mmK/liIbluIPlvI/nmoTmg4XlhrXvvIzov5jpnIDopoHlr7nkuo7lkITkuKrliIbluIPlvI/oioLngrnov5vooYzlr7nlupTnmoTmlbDmja7kuIDoh7TmgKfmk43kvZzjgIJcbuWboOS4uuWvueS6juacrOWcsOe8k+WtmOadpeivtO+8jOS7lueahOmAn+W6puaYr+mdnuW4uOW/q+eahO+8jOW5tuS4lOiDveWkn+aKl+S9j+Wkp+mHj+ivt+axgueahOWQjOaXtuWPkemAgei/h+adpeOAguaJgOS7peS9v+eUqOebuOW9k+S6juS4gOS4quS6jOe6p+e8k+WtmOaYr+S4gOS4quS4jemUmeeahOmAieaLqeOAglxu5YW35L2T55qE5p625p6E5aaC5LiL77yaXG4iKSwgX2MoJ2ltZycsIHsKICAgIGF0dHJzOiB7CiAgICAgICJzcmMiOiByZXF1aXJlKCIuLi8uLi8uLi9hc3NlcnQvaW1hZ2VzL2ltZ18xMi5wbmciKSwKICAgICAgImFsdCI6ICJpbWcucG5nIgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygncCcsIFtfdm0uX3YoIuWFt+S9k+aDheWGteWwseaYr+ivt+axgui/h+adpeS7peWQjui/m+ihjOWvueW6lOeahOaJq+aPj+eDrWtlee+8jOeEtuWQjuWwhuWvueW6lOeahOeDrWtleeS4iuaKpeWIsOazqOWGjOS4reW/g++8jOi/memHjOWPr+S7peS9v+eUqOS4gOS4qm5ldHR56L+b6KGM5a+55bqU55qE6L+e5o6l77yM54S25ZCO5LiA5Liq5a6i5oi356uv5Zyo5LuO5rOo5YaM5Lit5b+D6I635Y+W5a+55bqU55qE54Ota2V577yM5Zyo5bCG5a6D5pS+5Yiw5a+55bqU55qE5pys5Zyw57yT5a2Y5Lit77yM5aSn6Ie05rWB56iL5bCx5piv6L+Z5LmI5LiA5Liq6L+H56iL44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCdoMycsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICLliIbmtYEiCiAgICB9CiAgfSwgW19jKCdhJywgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogIiPliIbmtYEiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOWIhua1gSIpXSksIF92bS5fdigiICIpLCBfYygncCcsIFtfdm0uX3YoIumAmui/h+epuumXtOaNouaXtumXtOeahOaAneaDs++8jOWwhuS4gOS4queDrWtleeWIhuino+S4uuWkmuS4quS4jeWQjOeahOWwj2tlee+8jOWIhuWIq+WcqHJlZGlz6ZuG576k55qE5LiN5ZCMXG7oioLngrnov5vooYzlrZjlgqjvvIzlsL3lj6/og73pmY3kvY7mlbDmja7nmoTlgL7mlpzvvIzlvZPnnqzpl7TmnInlh6DljYHkuIfnmoTor7fmsYLljrvorr/pl65yZWRpc+S4iuafkOS4qmtlee+8jFxu6YCa6L+Ha2V55YiG5rWB77yM6K+35rGC5Lya5YiG5pWj5omT5Yiw5LiN5ZCM55qE6IqC54K56I635Y+W5pWw5o2u77yM6L+Z5qC35bCx5rKh5pyJ5omA6LCT55qE54Ot54K5a2V56Zeu6aKY44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi5YW35L2T5aaC5LiL77yaIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW19jKCdpbWcnLCB7CiAgICBhdHRyczogewogICAgICAic3JjIjogcmVxdWlyZSgiLi4vLi4vLi4vYXNzZXJ0L2ltYWdlcy9pbWdfMTEucG5nIiksCiAgICAgICJhbHQiOiAiaW1nLnBuZyIKICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2gzJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogIumZkOa1gSIKICAgIH0KICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiI+mZkOa1gSIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg6ZmQ5rWBIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi5Y+m5LiA56eN5pa55rOV5piv55u05o6l6L+b6KGM6ZmQ5rWB77yM6L+Z5Liq5piv5Zyo5bqU55So5pa56Z2i5YGa6Zi75aGe5LqGXG7kuIDoiKzmnInkuIDkupvluLjop4HnmoTnrpfms5XvvIzku6TniYzmobbjgIHmu5Hliqjnqpflj6PnrYlcbui/mOacieS4gOS6m+WFt+S9k+eahGFwae+8jOavlOWmglJhdGVsaW1pdGVy44CBaHlzdHJpeOetieOAgiIpXSldKTsKfTsKdmFyIHN0YXRpY1JlbmRlckZucyA9IFtdOwpleHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9Ow=="},{"version":3,"names":["render","_vm","_c","_self","attrs","$parent","slotKey","staticClass","_v","require","staticRenderFns"],"sources":["D:/dev/project/mysite/tech-arch-doc/md/techDocument/record/RedisHotKey.md"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('h1',{attrs:{\"id\":\"redis热key\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#redis热key\"}},[_vm._v(\"#\")]),_vm._v(\" Redis热key\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"什么是热key\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#什么是热key\"}},[_vm._v(\"#\")]),_vm._v(\" 什么是热key\")]),_vm._v(\" \"),_c('p',[_vm._v(\"在 Redis 中，热 key是指那些在极短的时间内访问频次非常高的key。\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"出现场景\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#出现场景\"}},[_vm._v(\"#\")]),_vm._v(\" 出现场景\")]),_vm._v(\" \"),_c('p',[_vm._v(\"一般对于一些多个用户短时间内一起点击的东西，比如一个爆款，短时间内大量用户都会查看这个东西，如果你使用到了\\nredis，那么这个对应的key就会在redis中是一个热key。或者是一些其他的爬虫，过来调用你的接口，反正急速短时间内访问大量访问这个key的，这个key就是一个热key\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"影响\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#影响\"}},[_vm._v(\"#\")]),_vm._v(\" 影响\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"首先，短时间内大量请求访问这个key，对应的redis节点就会被打满，可能会出现丢包现象，而我们知道在网络传输中，使用TCP进行传输，如果丢包了，那么他会重发\\n，但是重发的话，他会耗费更多的时间，这样请求一多，他势必会产生阻塞，接口的响应速度就会变慢，会导致阻塞等问题。\")]),_vm._v(\" \"),_c('li',[_vm._v(\"请求过多，热点key引起redis节点数据倾斜，缓存服务被打垮\")]),_vm._v(\" \"),_c('li',[_vm._v(\"还有就是大量的请求会穿透redis，直接打到DB上，我们知道db一般能抗的流量非常有限，所以可能会打垮db\")])]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"检测\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#检测\"}},[_vm._v(\"#\")]),_vm._v(\" 检测\")]),_vm._v(\" \"),_c('p',[_vm._v(\"那么我们如何发现对应的热key呢？\")]),_vm._v(\" \"),_c('p',[_vm._v(\"自己开发一些第三方SDK进行检测等。检测完成之后直接接入你自己的业务系统。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"或者在redis4.0以后使用命令进行检测： redis-cli --hotkeys ，但由于\\n需要扫描整个 keyspace，实时性上比较差，另外扫描耗时与 key 的数量正相关，如果 key\\n的数量比较多，耗时可能会非常长。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"你也可以进行抓包，抓取某一段时间内的TCP dump的流量，然后进行上报。\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"解决\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#解决\"}},[_vm._v(\"#\")]),_vm._v(\" 解决\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"本地缓存\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#本地缓存\"}},[_vm._v(\"#\")]),_vm._v(\" 本地缓存\")]),_vm._v(\" \"),_c('p',[_vm._v(\"第一种方案是使用本地缓存进行，相当于多加一个一级缓存。 当你发现对应的热key的时候，直接将他放到本地缓存中就行，但是我们现在的系统是分布式的情况，还需要对于各个分布式节点进行对应的数据一致性操作。\\n因为对于本地缓存来说，他的速度是非常快的，并且能够抗住大量请求的同时发送过来。所以使用相当于一个二级缓存是一个不错的选择。\\n具体的架构如下：\\n\"),_c('img',{attrs:{\"src\":require(\"../../../assert/images/img_12.png\"),\"alt\":\"img.png\"}})]),_vm._v(\" \"),_c('p',[_vm._v(\"具体情况就是请求过来以后进行对应的扫描热key，然后将对应的热key上报到注册中心，这里可以使用一个netty进行对应的连接，然后一个客户端在从注册中心获取对应的热key，在将它放到对应的本地缓存中，大致流程就是这么一个过程。\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"分流\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#分流\"}},[_vm._v(\"#\")]),_vm._v(\" 分流\")]),_vm._v(\" \"),_c('p',[_vm._v(\"通过空间换时间的思想，将一个热key分解为多个不同的小key，分别在redis集群的不同\\n节点进行存储，尽可能降低数据的倾斜，当瞬间有几十万的请求去访问redis上某个key，\\n通过key分流，请求会分散打到不同的节点获取数据，这样就没有所谓的热点key问题。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"具体如下：\")]),_vm._v(\" \"),_c('p',[_c('img',{attrs:{\"src\":require(\"../../../assert/images/img_11.png\"),\"alt\":\"img.png\"}})]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"限流\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#限流\"}},[_vm._v(\"#\")]),_vm._v(\" 限流\")]),_vm._v(\" \"),_c('p',[_vm._v(\"另一种方法是直接进行限流，这个是在应用方面做阻塞了\\n一般有一些常见的算法，令牌桶、滑动窗口等\\n还有一些具体的api，比如Ratelimiter、hystrix等。\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"mappings":"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"}]}