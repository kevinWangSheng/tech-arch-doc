{"remainingRequest":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js??ref--6!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\index.js??ref--1-1!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\@vuepress\\markdown-loader\\index.js??ref--1-2!D:\\dev\\project\\mysite\\tech-arch-doc\\md\\techDocument\\record\\RedisHotKey.md?vue&type=template&id=046e2fcc&","dependencies":[{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\md\\techDocument\\record\\RedisHotKey.md","mtime":1709198397123},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696408019332},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696408019332},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\babel-loader\\lib\\index.js","mtime":1696408019022},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1696408019943},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696408019332},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\index.js","mtime":1696408019943},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\@vuepress\\markdown-loader\\index.js","mtime":1696408018627}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHsKICB2YXIgX3ZtID0gdGhpcywKICAgIF9jID0gX3ZtLl9zZWxmLl9jOwogIHJldHVybiBfYygiQ29udGVudFNsb3RzRGlzdHJpYnV0b3IiLCB7CiAgICBhdHRyczogewogICAgICAic2xvdC1rZXkiOiBfdm0uJHBhcmVudC5zbG90S2V5CiAgICB9CiAgfSwgW19jKCJoMSIsIHsKICAgIGF0dHJzOiB7CiAgICAgIGlkOiAicmVkaXPng61rZXkiCiAgICB9CiAgfSwgW19jKCJhIiwgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgIGhyZWY6ICIjcmVkaXPng61rZXkiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIFJlZGlz54Ota2V5IildKSwgX3ZtLl92KCIgIiksIF9jKCJoMiIsIHsKICAgIGF0dHJzOiB7CiAgICAgIGlkOiAi5LuA5LmI5piv54Ota2V5IgogICAgfQogIH0sIFtfYygiYSIsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICBocmVmOiAiI+S7gOS5iOaYr+eDrWtleSIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg5LuA5LmI5piv54Ota2V5IildKSwgX3ZtLl92KCIgIiksIF9jKCJwIiwgW192bS5fdigi5ZyoIFJlZGlzIOS4re+8jOeDrSBrZXnmmK/mjIfpgqPkupvlnKjmnoHnn63nmoTml7bpl7TlhoXorr/pl67popHmrKHpnZ7luLjpq5jnmoRrZXnjgIIiKV0pLCBfdm0uX3YoIiAiKSwgX2MoImgyIiwgewogICAgYXR0cnM6IHsKICAgICAgaWQ6ICLlh7rnjrDlnLrmma8iCiAgICB9CiAgfSwgW19jKCJhIiwgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgIGhyZWY6ICIj5Ye6546w5Zy65pmvIgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiDlh7rnjrDlnLrmma8iKV0pLCBfdm0uX3YoIiAiKSwgX2MoInAiLCBbX3ZtLl92KCLkuIDoiKzlr7nkuo7kuIDkupvlpJrkuKrnlKjmiLfnn63ml7bpl7TlhoXkuIDotbfngrnlh7vnmoTkuJzopb/vvIzmr5TlpoLkuIDkuKrniIbmrL7vvIznn63ml7bpl7TlhoXlpKfph4/nlKjmiLfpg73kvJrmn6XnnIvov5nkuKrkuJzopb/vvIzlpoLmnpzkvaDkvb/nlKjliLDkuoZcbnJlZGlz77yM6YKj5LmI6L+Z5Liq5a+55bqU55qEa2V55bCx5Lya5ZyocmVkaXPkuK3mmK/kuIDkuKrng61rZXnjgILmiJbogIXmmK/kuIDkupvlhbbku5bnmoTniKzomavvvIzov4fmnaXosIPnlKjkvaDnmoTmjqXlj6PvvIzlj43mraPmgKXpgJ/nn63ml7bpl7TlhoXorr/pl67lpKfph4/orr/pl67ov5nkuKprZXnnmoTvvIzov5nkuKprZXnlsLHmmK/kuIDkuKrng61rZXkiKV0pLCBfdm0uX3YoIiAiKSwgX2MoImgyIiwgewogICAgYXR0cnM6IHsKICAgICAgaWQ6ICLlvbHlk40iCiAgICB9CiAgfSwgW19jKCJhIiwgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgIGhyZWY6ICIj5b2x5ZONIgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiDlvbHlk40iKV0pLCBfdm0uX3YoIiAiKSwgX2MoIm9sIiwgW19jKCJsaSIsIFtfdm0uX3YoIummluWFiO+8jOefreaXtumXtOWGheWkp+mHj+ivt+axguiuv+mXrui/meS4qmtlee+8jOWvueW6lOeahHJlZGlz6IqC54K55bCx5Lya6KKr5omT5ruh77yM5Y+v6IO95Lya5Ye6546w5Lii5YyF546w6LGh77yM6ICM5oiR5Lus55+l6YGT5Zyo572R57uc5Lyg6L6T5Lit77yM5L2/55SoVENQ6L+b6KGM5Lyg6L6T77yM5aaC5p6c5Lii5YyF5LqG77yM6YKj5LmI5LuW5Lya6YeN5Y+RXG7vvIzkvYbmmK/ph43lj5HnmoTor53vvIzku5bkvJrogJfotLnmm7TlpJrnmoTml7bpl7TvvIzov5nmoLfor7fmsYLkuIDlpJrvvIzku5blir/lv4XkvJrkuqfnlJ/pmLvloZ7vvIzmjqXlj6PnmoTlk43lupTpgJ/luqblsLHkvJrlj5jmhaLvvIzkvJrlr7zoh7TpmLvloZ7nrYnpl67popjjgIIiKV0pLCBfdm0uX3YoIiAiKSwgX2MoImxpIiwgW192bS5fdigi6K+35rGC6L+H5aSa77yM54Ot54K5a2V55byV6LW3cmVkaXPoioLngrnmlbDmja7lgL7mlpzvvIznvJPlrZjmnI3liqHooqvmiZPlnq4iKV0pLCBfdm0uX3YoIiAiKSwgX2MoImxpIiwgW192bS5fdigi6L+Y5pyJ5bCx5piv5aSn6YeP55qE6K+35rGC5Lya56m/6YCPcmVkaXPvvIznm7TmjqXmiZPliLBEQuS4iu+8jOaIkeS7rOefpemBk2Ri5LiA6Iis6IO95oqX55qE5rWB6YeP6Z2e5bi45pyJ6ZmQ77yM5omA5Lul5Y+v6IO95Lya5omT5Z6uZGIiKV0pXSksIF92bS5fdigiICIpLCBfYygiaDIiLCB7CiAgICBhdHRyczogewogICAgICBpZDogIuajgOa1iyIKICAgIH0KICB9LCBbX2MoImEiLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgaHJlZjogIiPmo4DmtYsiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOajgOa1iyIpXSksIF92bS5fdigiICIpLCBfYygicCIsIFtfdm0uX3YoIumCo+S5iOaIkeS7rOWmguS9leWPkeeOsOWvueW6lOeahOeDrWtleeWRou+8nyIpXSksIF92bS5fdigiICIpLCBfYygicCIsIFtfdm0uX3YoIuiHquW3seW8gOWPkeS4gOS6m+esrOS4ieaWuVNES+i/m+ihjOajgOa1i+etieOAguajgOa1i+WujOaIkOS5i+WQjuebtOaOpeaOpeWFpeS9oOiHquW3seeahOS4muWKoeezu+e7n+OAgiIpXSksIF92bS5fdigiICIpLCBfYygicCIsIFtfdm0uX3YoIuaIluiAheWcqHJlZGlzNC4w5Lul5ZCO5L2/55So5ZG95Luk6L+b6KGM5qOA5rWL77yaIHJlZGlzLWNsaSAtLWhvdGtleXMg77yM5L2G55Sx5LqOXG7pnIDopoHmiavmj4/mlbTkuKoga2V5c3BhY2XvvIzlrp7ml7bmgKfkuIrmr5TovoPlt67vvIzlj6blpJbmiavmj4/ogJfml7bkuI4ga2V5IOeahOaVsOmHj+ato+ebuOWFs++8jOWmguaenCBrZXlcbueahOaVsOmHj+avlOi+g+Wkmu+8jOiAl+aXtuWPr+iDveS8mumdnuW4uOmVv+OAgiIpXSksIF92bS5fdigiICIpLCBfYygicCIsIFtfdm0uX3YoIuS9oOS5n+WPr+S7pei/m+ihjOaKk+WMhe+8jOaKk+WPluafkOS4gOauteaXtumXtOWGheeahFRDUCBkdW1w55qE5rWB6YeP77yM54S25ZCO6L+b6KGM5LiK5oql44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCJoMiIsIHsKICAgIGF0dHJzOiB7CiAgICAgIGlkOiAi6Kej5YazIgogICAgfQogIH0sIFtfYygiYSIsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICBocmVmOiAiI+ino+WGsyIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg6Kej5YazIildKSwgX3ZtLl92KCIgIiksIF9jKCJoMyIsIHsKICAgIGF0dHJzOiB7CiAgICAgIGlkOiAi5pys5Zyw57yT5a2YIgogICAgfQogIH0sIFtfYygiYSIsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICBocmVmOiAiI+acrOWcsOe8k+WtmCIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg5pys5Zyw57yT5a2YIildKSwgX3ZtLl92KCIgIiksIF9jKCJwIiwgW192bS5fdigi56ys5LiA56eN5pa55qGI5piv5L2/55So5pys5Zyw57yT5a2Y6L+b6KGM77yM55u45b2T5LqO5aSa5Yqg5LiA5Liq5LiA57qn57yT5a2Y44CCIOW9k+S9oOWPkeeOsOWvueW6lOeahOeDrWtleeeahOaXtuWAme+8jOebtOaOpeWwhuS7luaUvuWIsOacrOWcsOe8k+WtmOS4reWwseihjO+8jOS9huaYr+aIkeS7rOeOsOWcqOeahOezu+e7n+aYr+WIhuW4g+W8j+eahOaDheWGte+8jOi/mOmcgOimgeWvueS6juWQhOS4quWIhuW4g+W8j+iKgueCuei/m+ihjOWvueW6lOeahOaVsOaNruS4gOiHtOaAp+aTjeS9nOOAglxu5Zug5Li65a+55LqO5pys5Zyw57yT5a2Y5p2l6K+077yM5LuW55qE6YCf5bqm5piv6Z2e5bi45b+r55qE77yM5bm25LiU6IO95aSf5oqX5L2P5aSn6YeP6K+35rGC55qE5ZCM5pe25Y+R6YCB6L+H5p2l44CC5omA5Lul5L2/55So55u45b2T5LqO5LiA5Liq5LqM57qn57yT5a2Y5piv5LiA5Liq5LiN6ZSZ55qE6YCJ5oup44CCXG7lhbfkvZPnmoTmnrbmnoTlpoLkuIvvvJpcbiIpLCBfYygiaW1nIiwgewogICAgYXR0cnM6IHsKICAgICAgc3JjOiByZXF1aXJlKCIuLi8uLi8uLi9hc3NlcnQvaW1hZ2VzL2ltZ18xMi5wbmciKSwKICAgICAgYWx0OiAiaW1nLnBuZyIKICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoInAiLCBbX3ZtLl92KCLlhbfkvZPmg4XlhrXlsLHmmK/or7fmsYLov4fmnaXku6XlkI7ov5vooYzlr7nlupTnmoTmiavmj4/ng61rZXnvvIznhLblkI7lsIblr7nlupTnmoTng61rZXnkuIrmiqXliLDms6jlhozkuK3lv4PvvIzov5nph4zlj6/ku6Xkvb/nlKjkuIDkuKpuZXR0eei/m+ihjOWvueW6lOeahOi/nuaOpe+8jOeEtuWQjuS4gOS4quWuouaIt+err+WcqOS7juazqOWGjOS4reW/g+iOt+WPluWvueW6lOeahOeDrWtlee+8jOWcqOWwhuWug+aUvuWIsOWvueW6lOeahOacrOWcsOe8k+WtmOS4re+8jOWkp+iHtOa1geeoi+WwseaYr+i/meS5iOS4gOS4qui/h+eoi+OAgiIpXSksIF92bS5fdigiICIpLCBfYygiaDMiLCB7CiAgICBhdHRyczogewogICAgICBpZDogIuWIhua1gSIKICAgIH0KICB9LCBbX2MoImEiLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgaHJlZjogIiPliIbmtYEiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOWIhua1gSIpXSksIF92bS5fdigiICIpLCBfYygicCIsIFtfdm0uX3YoIumAmui/h+epuumXtOaNouaXtumXtOeahOaAneaDs++8jOWwhuS4gOS4queDrWtleeWIhuino+S4uuWkmuS4quS4jeWQjOeahOWwj2tlee+8jOWIhuWIq+WcqHJlZGlz6ZuG576k55qE5LiN5ZCMXG7oioLngrnov5vooYzlrZjlgqjvvIzlsL3lj6/og73pmY3kvY7mlbDmja7nmoTlgL7mlpzvvIzlvZPnnqzpl7TmnInlh6DljYHkuIfnmoTor7fmsYLljrvorr/pl65yZWRpc+S4iuafkOS4qmtlee+8jFxu6YCa6L+Ha2V55YiG5rWB77yM6K+35rGC5Lya5YiG5pWj5omT5Yiw5LiN5ZCM55qE6IqC54K56I635Y+W5pWw5o2u77yM6L+Z5qC35bCx5rKh5pyJ5omA6LCT55qE54Ot54K5a2V56Zeu6aKY44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCJwIiwgW192bS5fdigi5YW35L2T5aaC5LiL77yaIildKSwgX3ZtLl92KCIgIiksIF9jKCJwIiwgW19jKCJpbWciLCB7CiAgICBhdHRyczogewogICAgICBzcmM6IHJlcXVpcmUoIi4uLy4uLy4uL2Fzc2VydC9pbWFnZXMvaW1nXzExLnBuZyIpLAogICAgICBhbHQ6ICJpbWcucG5nIgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygiaDMiLCB7CiAgICBhdHRyczogewogICAgICBpZDogIumZkOa1gSIKICAgIH0KICB9LCBbX2MoImEiLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgaHJlZjogIiPpmZDmtYEiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOmZkOa1gSIpXSksIF92bS5fdigiICIpLCBfYygicCIsIFtfdm0uX3YoIuWPpuS4gOenjeaWueazleaYr+ebtOaOpei/m+ihjOmZkOa1ge+8jOi/meS4quaYr+WcqOW6lOeUqOaWuemdouWBmumYu+WhnuS6hlxu5LiA6Iis5pyJ5LiA5Lqb5bi46KeB55qE566X5rOV77yM5Luk54mM5qG244CB5ruR5Yqo56qX5Y+j562JXG7ov5jmnInkuIDkupvlhbfkvZPnmoRhcGnvvIzmr5TlpoJSYXRlbGltaXRlcuOAgWh5c3RyaXjnrYnjgIIiKV0pXSk7Cn07CnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXTsKcmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlOwpleHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9Ow=="},{"version":3,"names":["render","_vm","_c","_self","attrs","$parent","slotKey","id","staticClass","href","_v","src","require","alt","staticRenderFns","_withStripped"],"sources":["D:/dev/project/mysite/tech-arch-doc/md/techDocument/record/RedisHotKey.md"],"sourcesContent":["var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"ContentSlotsDistributor\",\n    { attrs: { \"slot-key\": _vm.$parent.slotKey } },\n    [\n      _c(\"h1\", { attrs: { id: \"redis热key\" } }, [\n        _c(\n          \"a\",\n          { staticClass: \"header-anchor\", attrs: { href: \"#redis热key\" } },\n          [_vm._v(\"#\")]\n        ),\n        _vm._v(\" Redis热key\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h2\", { attrs: { id: \"什么是热key\" } }, [\n        _c(\n          \"a\",\n          { staticClass: \"header-anchor\", attrs: { href: \"#什么是热key\" } },\n          [_vm._v(\"#\")]\n        ),\n        _vm._v(\" 什么是热key\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"在 Redis 中，热 key是指那些在极短的时间内访问频次非常高的key。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h2\", { attrs: { id: \"出现场景\" } }, [\n        _c(\n          \"a\",\n          { staticClass: \"header-anchor\", attrs: { href: \"#出现场景\" } },\n          [_vm._v(\"#\")]\n        ),\n        _vm._v(\" 出现场景\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"一般对于一些多个用户短时间内一起点击的东西，比如一个爆款，短时间内大量用户都会查看这个东西，如果你使用到了\\nredis，那么这个对应的key就会在redis中是一个热key。或者是一些其他的爬虫，过来调用你的接口，反正急速短时间内访问大量访问这个key的，这个key就是一个热key\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h2\", { attrs: { id: \"影响\" } }, [\n        _c(\"a\", { staticClass: \"header-anchor\", attrs: { href: \"#影响\" } }, [\n          _vm._v(\"#\"),\n        ]),\n        _vm._v(\" 影响\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"ol\", [\n        _c(\"li\", [\n          _vm._v(\n            \"首先，短时间内大量请求访问这个key，对应的redis节点就会被打满，可能会出现丢包现象，而我们知道在网络传输中，使用TCP进行传输，如果丢包了，那么他会重发\\n，但是重发的话，他会耗费更多的时间，这样请求一多，他势必会产生阻塞，接口的响应速度就会变慢，会导致阻塞等问题。\"\n          ),\n        ]),\n        _vm._v(\" \"),\n        _c(\"li\", [\n          _vm._v(\"请求过多，热点key引起redis节点数据倾斜，缓存服务被打垮\"),\n        ]),\n        _vm._v(\" \"),\n        _c(\"li\", [\n          _vm._v(\n            \"还有就是大量的请求会穿透redis，直接打到DB上，我们知道db一般能抗的流量非常有限，所以可能会打垮db\"\n          ),\n        ]),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h2\", { attrs: { id: \"检测\" } }, [\n        _c(\"a\", { staticClass: \"header-anchor\", attrs: { href: \"#检测\" } }, [\n          _vm._v(\"#\"),\n        ]),\n        _vm._v(\" 检测\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [_vm._v(\"那么我们如何发现对应的热key呢？\")]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"自己开发一些第三方SDK进行检测等。检测完成之后直接接入你自己的业务系统。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"或者在redis4.0以后使用命令进行检测： redis-cli --hotkeys ，但由于\\n需要扫描整个 keyspace，实时性上比较差，另外扫描耗时与 key 的数量正相关，如果 key\\n的数量比较多，耗时可能会非常长。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"你也可以进行抓包，抓取某一段时间内的TCP dump的流量，然后进行上报。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h2\", { attrs: { id: \"解决\" } }, [\n        _c(\"a\", { staticClass: \"header-anchor\", attrs: { href: \"#解决\" } }, [\n          _vm._v(\"#\"),\n        ]),\n        _vm._v(\" 解决\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h3\", { attrs: { id: \"本地缓存\" } }, [\n        _c(\n          \"a\",\n          { staticClass: \"header-anchor\", attrs: { href: \"#本地缓存\" } },\n          [_vm._v(\"#\")]\n        ),\n        _vm._v(\" 本地缓存\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"第一种方案是使用本地缓存进行，相当于多加一个一级缓存。 当你发现对应的热key的时候，直接将他放到本地缓存中就行，但是我们现在的系统是分布式的情况，还需要对于各个分布式节点进行对应的数据一致性操作。\\n因为对于本地缓存来说，他的速度是非常快的，并且能够抗住大量请求的同时发送过来。所以使用相当于一个二级缓存是一个不错的选择。\\n具体的架构如下：\\n\"\n        ),\n        _c(\"img\", {\n          attrs: {\n            src: require(\"../../../assert/images/img_12.png\"),\n            alt: \"img.png\",\n          },\n        }),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"具体情况就是请求过来以后进行对应的扫描热key，然后将对应的热key上报到注册中心，这里可以使用一个netty进行对应的连接，然后一个客户端在从注册中心获取对应的热key，在将它放到对应的本地缓存中，大致流程就是这么一个过程。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h3\", { attrs: { id: \"分流\" } }, [\n        _c(\"a\", { staticClass: \"header-anchor\", attrs: { href: \"#分流\" } }, [\n          _vm._v(\"#\"),\n        ]),\n        _vm._v(\" 分流\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"通过空间换时间的思想，将一个热key分解为多个不同的小key，分别在redis集群的不同\\n节点进行存储，尽可能降低数据的倾斜，当瞬间有几十万的请求去访问redis上某个key，\\n通过key分流，请求会分散打到不同的节点获取数据，这样就没有所谓的热点key问题。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [_vm._v(\"具体如下：\")]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _c(\"img\", {\n          attrs: {\n            src: require(\"../../../assert/images/img_11.png\"),\n            alt: \"img.png\",\n          },\n        }),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h3\", { attrs: { id: \"限流\" } }, [\n        _c(\"a\", { staticClass: \"header-anchor\", attrs: { href: \"#限流\" } }, [\n          _vm._v(\"#\"),\n        ]),\n        _vm._v(\" 限流\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"另一种方法是直接进行限流，这个是在应用方面做阻塞了\\n一般有一些常见的算法，令牌桶、滑动窗口等\\n还有一些具体的api，比如Ratelimiter、hystrix等。\"\n        ),\n      ]),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"mappings":"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"}]}