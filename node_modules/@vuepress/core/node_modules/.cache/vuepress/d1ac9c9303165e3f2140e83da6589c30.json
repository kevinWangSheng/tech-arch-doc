{"remainingRequest":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js??ref--6!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\index.js??ref--1-1!D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\@vuepress\\markdown-loader\\index.js??ref--1-2!D:\\dev\\project\\mysite\\tech-arch-doc\\md\\techDocument\\record\\RedisBigKey.md?vue&type=template&id=65363e8d&","dependencies":[{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\md\\techDocument\\record\\RedisBigKey.md","mtime":1709195520192},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696408019332},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696408019332},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\babel-loader\\lib\\index.js","mtime":1696408019022},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1696408019943},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696408019332},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\vue-loader\\lib\\index.js","mtime":1696408019943},{"path":"D:\\dev\\project\\mysite\\tech-arch-doc\\node_modules\\@vuepress\\markdown-loader\\index.js","mtime":1696408018627}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHsKICB2YXIgX3ZtID0gdGhpcywKICAgIF9jID0gX3ZtLl9zZWxmLl9jOwogIHJldHVybiBfYygiQ29udGVudFNsb3RzRGlzdHJpYnV0b3IiLCB7CiAgICBhdHRyczogewogICAgICAic2xvdC1rZXkiOiBfdm0uJHBhcmVudC5zbG90S2V5CiAgICB9CiAgfSwgW19jKCJoMSIsIHsKICAgIGF0dHJzOiB7CiAgICAgIGlkOiAicmVkaXPlpKdrZXnop6PlhrPmlrnmoYgiCiAgICB9CiAgfSwgW19jKCJhIiwgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgIGhyZWY6ICIjcmVkaXPlpKdrZXnop6PlhrPmlrnmoYgiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIFJlZGlz5aSnS2V56Kej5Yaz5pa55qGIIildKSwgX3ZtLl92KCIgIiksIF9jKCJoMiIsIHsKICAgIGF0dHJzOiB7CiAgICAgIGlkOiAi5Lqn55SfIgogICAgfQogIH0sIFtfYygiYSIsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICBocmVmOiAiI+S6p+eUnyIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg5Lqn55SfIildKSwgX3ZtLl92KCIgIiksIF9jKCJwIiwgW192bS5fdigiUmVkaXPlpKdrZXnnmoTkuqfnlJ/kuIDoiKzpg73mtonlj4rliLDlr7nlupTnmoR2YWx1ZemdnuW4uOWkp+OAguavlOWmguWvueW6lOeahOS4gOS4quS4muWKoeWcuuaZr+eahOS4gOS4qmtleeWtmOWCqOS6huW+iOWkmueahOeUqOaIt+S/oeaBr+etie+8jOi/meagt+eahHZhbHVl5bCx5Lya6Z2e5bi45aSn77yM5bCx5Lya5Lqn55Sf5a+55bqU55qE5aSna2V577yM5LiA6Iis5aSn5bCP5ZyoMTBrYuS7peS4iuWwseiupOS4uuaYryIpXSksIF92bS5fdigiICIpLCBfYygiaDIiLCB7CiAgICBhdHRyczogewogICAgICBpZDogIuW9seWTjSIKICAgIH0KICB9LCBbX2MoImEiLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgaHJlZjogIiPlvbHlk40iCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOW9seWTjSIpXSksIF92bS5fdigiICIpLCBfYygicCIsIFtfdm0uX3YoIuS6p+eUn1JlZGlz55qE5aSnS2V55pyJ5LuA5LmI5b2x5ZON5ZGi77yfXG7lm6DkuLpSZWRpc+aYr+WNlee6v+eoi++8jOaJgOS7peS8muS6p+eUn+WuouaIt+err+eahOmYu+WhnueOsOixoe+8jOmCo+S5iOafpeivoueahOi2iuWkmu+8jOmYu+WhnueahOS5n+Wwsei2iuS4pemHje+8jOWwseS8muS6p+eUn3JlZGlz55qE5oWi5p+l6K+i546w6LGh44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCJwIiwgW192bS5fdigi5bm25LiU5a+55LqO6ZuG576k5p2l6K+077yM5LuW55qE6L+Z5Liqc2xvdOWIhueJh+Wdh+WMgOeahOaDheWGteS4i++8jOafpeivouS8muWHuueOsOWAvuaWnO+8jOW5tuS4lOmDqOWIhuWkp0tleeS8muWvvOiHtFJlZGlz6IqC54K55Y2g55So55qE5YaF5a2Y5aSa77yM5LuO6ICM5a+86Ie0UVBT6L+H6auY44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCJwIiwgW192bS5fdigi5ZCM5qC35a+55LqO5aSna2V55p2l6K+077yM572R57uc5Lyg6L6T5Lmf5piv5LiA5Liq6Zeu6aKY77yM5Zug5Li66L+Z5Liq5aSna2V55Lqn55Sf55qE572R57uc5rWB6YeP5b6I5aSn77yM5oiR5Lus6YO955+l6YGT5YiG5biD5byP57O757uf5Li76KaB5b2x5ZON6YCf5bqm55qE5bCx5piv572R57uc5pa56Z2i44CCXG7miZPkuKrmr5TmlrnvvIzlpoLmnpzkuIDkuKprZXnnmoTlpKflsI/mmK8xbWLvvIzmr4/np5Lorr/pl64xMDAw5qyh77yM5Lmf5bCx5piv5q+P56eS5Lqn55SfMTAwME1C55qE5rWB6YeP77yM5Yq/5b+F5Lya5a+86Ie0572R57uc5oul5aGe44CCXG7ogIzmiJHku6znn6XpgZPlr7nkuo5UQ1DmnaXor7TvvIzlpoLmnpzkvKDovpPlpLHotKXvvIzpgqPkuYjkvJrlvJXlj5Hku5bnmoTotoXml7bph43kvKDvvIzov5nmoLfkuIvmnaXvvIzkuIDkuKrmjqXlj6PnmoTor7fmsYLpgJ/luqblir/lv4XkvJrmlL7mhaLjgILov5nlr7nkuo7mnI3liqHlmajmnaXor7TmmK/ngb7pmr7mgKfnmoTjgIIiKV0pLCBfdm0uX3YoIiAiKSwgX2MoImgyIiwgewogICAgYXR0cnM6IHsKICAgICAgaWQ6ICLmo4DmtYsiCiAgICB9CiAgfSwgW19jKCJhIiwgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgIGhyZWY6ICIj5qOA5rWLIgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiDmo4DmtYsiKV0pLCBfdm0uX3YoIiAiKSwgX2MoInAiLCBbX3ZtLl92KCLlnKhSZWRpczQuMOS7peWQju+8jOWPr+S7peebtOaOpei/m+ihjOWvueW6lOeahOWkp0tleei/m+ihjOaJq+aPj++8jOWmgnNjYW4gKyBtZW1vcnkgdXNhZ2Xlkb3ku6TvvIzkvYbmmK/ov5nkuKrmiavmj4/ov4fnqIvkvJrpgY3ljobmiavmj4/vvIzlpoLmnpzkvaDnmoRrZXnpnZ7luLjlpJrnmoTor53vvIzlsLHkvJrpnZ7luLjmhaLjgIIiKV0pLCBfdm0uX3YoIiAiKSwgX2MoInAiLCBbX3ZtLl92KCLkuZ/lj6/ku6Xkvb/nlKjkuIDkupvnrKzkuInmlrnnmoTlt6Xlhbfov5vooYzmiavmj4/jgILmr5TlpoJyZGJ0b29scyIpXSksIF92bS5fdigiICIpLCBfYygiaDIiLCB7CiAgICBhdHRyczogewogICAgICBpZDogIuWIoOmZpCIKICAgIH0KICB9LCBbX2MoImEiLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgaHJlZjogIiPliKDpmaQiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOWIoOmZpCIpXSksIF92bS5fdigiICIpLCBfYygicCIsIFtfdm0uX3YoIuS4gOiIrOaDheWGteS4i+S4jeiDveWkn+ebtOaOpeS9v+eUqGRlbOebtOaOpeWIoOmZpOWvueW6lOeahOWkp2tlee+8jOWboOS4uuS4gOiIrOS4gOS4quWkp2tleemDveaYr+S4gOS4qumbhuWQiO+8jOmCo+S5iOWIoOmZpOeahOaXtumXtOWkjeadguW6puWwseaYr+i/meS4qumbhuWQiOeahOWkp+Wwj+OAglxu5omA5Lul5a+55LqO5aSna2V577yM5Yig6Zmk5Lya6Z2e5bi46ICX6LS55pe26Ze077yM5Y+v6IO95Lya5Lqn55Sf6Zi75aGe77yM5b2x5ZON5YW25LuW5p+l6K+i5pWI546H44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCJwIiwgW192bS5fdigi5omA5Lul5oiR5Lus5Y+v5Lul5YiG5om55qyh6L+b6KGM5omr5o+PK+WIoOmZpOOAgiIpXSldKTsKfTsKdmFyIHN0YXRpY1JlbmRlckZucyA9IFtdOwpyZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWU7CmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH07"},{"version":3,"names":["render","_vm","_c","_self","attrs","$parent","slotKey","id","staticClass","href","_v","staticRenderFns","_withStripped"],"sources":["D:/dev/project/mysite/tech-arch-doc/md/techDocument/record/RedisBigKey.md"],"sourcesContent":["var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"ContentSlotsDistributor\",\n    { attrs: { \"slot-key\": _vm.$parent.slotKey } },\n    [\n      _c(\"h1\", { attrs: { id: \"redis大key解决方案\" } }, [\n        _c(\n          \"a\",\n          {\n            staticClass: \"header-anchor\",\n            attrs: { href: \"#redis大key解决方案\" },\n          },\n          [_vm._v(\"#\")]\n        ),\n        _vm._v(\" Redis大Key解决方案\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h2\", { attrs: { id: \"产生\" } }, [\n        _c(\"a\", { staticClass: \"header-anchor\", attrs: { href: \"#产生\" } }, [\n          _vm._v(\"#\"),\n        ]),\n        _vm._v(\" 产生\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"Redis大key的产生一般都涉及到对应的value非常大。比如对应的一个业务场景的一个key存储了很多的用户信息等，这样的value就会非常大，就会产生对应的大key，一般大小在10kb以上就认为是\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h2\", { attrs: { id: \"影响\" } }, [\n        _c(\"a\", { staticClass: \"header-anchor\", attrs: { href: \"#影响\" } }, [\n          _vm._v(\"#\"),\n        ]),\n        _vm._v(\" 影响\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"产生Redis的大Key有什么影响呢？\\n因为Redis是单线程，所以会产生客户端的阻塞现象，那么查询的越多，阻塞的也就越严重，就会产生redis的慢查询现象。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"并且对于集群来说，他的这个slot分片均匀的情况下，查询会出现倾斜，并且部分大Key会导致Redis节点占用的内存多，从而导致QPS过高。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"同样对于大key来说，网络传输也是一个问题，因为这个大key产生的网络流量很大，我们都知道分布式系统主要影响速度的就是网络方面。\\n打个比方，如果一个key的大小是1mb，每秒访问1000次，也就是每秒产生1000MB的流量，势必会导致网络拥塞。\\n而我们知道对于TCP来说，如果传输失败，那么会引发他的超时重传，这样下来，一个接口的请求速度势必会放慢。这对于服务器来说是灾难性的。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"h2\", { attrs: { id: \"检测\" } }, [\n        _c(\"a\", { staticClass: \"header-anchor\", attrs: { href: \"#检测\" } }, [\n          _vm._v(\"#\"),\n        ]),\n        _vm._v(\" 检测\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"在Redis4.0以后，可以直接进行对应的大Key进行扫描，如scan + memory usage命令，但是这个扫描过程会遍历扫描，如果你的key非常多的话，就会非常慢。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [_vm._v(\"也可以使用一些第三方的工具进行扫描。比如rdbtools\")]),\n      _vm._v(\" \"),\n      _c(\"h2\", { attrs: { id: \"删除\" } }, [\n        _c(\"a\", { staticClass: \"header-anchor\", attrs: { href: \"#删除\" } }, [\n          _vm._v(\"#\"),\n        ]),\n        _vm._v(\" 删除\"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\n          \"一般情况下不能够直接使用del直接删除对应的大key，因为一般一个大key都是一个集合，那么删除的时间复杂度就是这个集合的大小。\\n所以对于大key，删除会非常耗费时间，可能会产生阻塞，影响其他查询效率。\"\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [_vm._v(\"所以我们可以分批次进行扫描+删除。\")]),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"mappings":"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"}]}